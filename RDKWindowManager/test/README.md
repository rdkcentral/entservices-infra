# RDKWindowManager Testing Documentation

## Test using Script
A new script, `RDKWMJsonL3Test.sh`, has been added for testing RDKWindowManager plugin methods using JSON-RPC curl commands.

Only a few test cases have been added so far. If you want to verify more test cases, you can use the curl command directly in the terminal for testing. For example:

### Fresh Boot (Recommended)
To run the test-related test cases or the `testAll` test cases using the script, you should stop the sky service first and then activate the plugin again using the curl command.

### Step 1: Stop the Sky Service
Run the following commands **twice** to stop the sky service:

systemctl stop sky-appsservice
systemctl stop sky-appsservice


### Step 2: Activate the RDKWindowManager Plugin
Activate the plugin using the following curl command:

curl --header "Content-Type: application/json" --request POST --data '{"jsonrpc": "2.0", "id": 42, "method": "Controller.1.activate", "params": {"callsign": "org.rdk.RDKWindowManager"}}' http://127.0.0.1:9998/jsonrpc


### Step 3: Ensure Plugin Activation
Verify that the RDKWindowManager Plugin has been activated using the verbose curl command:

curl --verbose http://127.0.0.1:9998/Service/Controller


### Step 4: Execute Test Commands
Now, execute the commands listed in the table below.

> **Note:** A test case may fail if there are conflicts with displays or if the display is already pre-created with the same name. If this happens, it is recommended to reboot the device and try running the test again.

| Si.No | TestCase                        | Command                                      | Â Test Details                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Expected Output                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Remarks |
| ----- | ------------------------------- | -------------------------------------------- | -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- |
| 1     | testCreateDisplay1              | RDKWMJsonL3Test.sh testCreateDisplay1        | 1\. Without resolution, it will invoke the createDisplay function with the Westerosapp client.<br>2\. It will invoke the getClients function to verify that the westerostest client is present.<br>3\. The westerostest client will connect to the westeros_test app, which will then launch.<br><br>Note:<br><br>Before starting the test, Stop the sky service using systemctl command                                                                                                                                       | On Screen Display - Yes<br>From Logs: createDisplay and getClients methods request and response<br><br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.createDisplay", "params":{"displayParams": "{\\"client\\":\\"westerosapp\\",\\"displayName\\":\\"westerostest\\"}"}}<br>Expected: null<br>Result: null<br>testCreateDisplay1 : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 42,"method": "org.rdk.RDKWindowManager.getClients"}<br>Expected: "[\\"westerosapp\\"]"<br>Result: "[\\"westerosapp\\"]"<br>testCreateDisplay1 : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Total Test Cases - 2<br>Success Test Count - 2<br>Failed Test Count - 0<br>\---------------------------------------------------------------                                                                                                                                                                             |         |
| 2     | testCreateDisplay2              | RDKWMJsonL3Test.sh testCreateDisplay2        | 1\. With given resolution, it will invoke the createDisplay function with the Westerosapp client.<br>2\. It will invoke the getClients function to verify that the westerostest client is present.<br>3\. The westerostest client will connect to the westeros_test app, which will then launch.<br><br>Note:<br><br>Before starting the test, Stop the sky service using systemctl command                                                                                                                                    | On Screen Display - Yes<br>From Logs: createDisplay and getClients methods request and response<br><br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.createDisplay", "params":{"displayParams":"{\\"callsign\\":\\"westerostest1\\", \\"displayName\\": \\"test1\\",\\"displayWidth\\": 1920,\\"displayHeight\\": 1080,\\"virtualDisplay\\": false,\\"virtualWidth\\": 1920,\\"virtualHeight\\": 1080,\\"topmost\\": false,\\"focus\\": false}"}}<br>Expected: null<br>Result: null<br>testCreateDisplay2 : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 42,"method": "org.rdk.RDKWindowManager.getClients"}<br>Expected: "[\\"westerostest1\\"]"<br>Result: "[\\"westerostest1\\"]"<br>testCreateDisplay2 : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Total Test Cases - 2<br>Success Test Count - 2<br>Failed Test Count - 0<br>\--------------------------------------------------------------- |         |
| 3     | testCreateDisplay3              | RDKWMJsonL3Test.sh testCreateDisplay3        | 1\. It will invoke the createDisplay function without any client.<br>2\. Expecting ERROR_GENERAL in error code                                                                                                                                                                                                                                                                                                                                                                                                                 | On Screen Display - No<br>From Logs: createDisplay request will call and get error code<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 42,"method": "org.rdk.RDKWindowManager.createDisplay","params": {"displayParams": "{\\"displayName\\": \\"test\\"}"}}<br>Expected: "code":1,"message":"ERROR_GENERAL"<br>Result: "code":1,"message":"ERROR_GENERAL"<br>testCreateDisplay3 : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Total Test Cases - 1<br>Success Test Count - 1<br>Failed Test Count - 0<br>\---------------------------------------------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |         |
| 4     | testListeners                   | RDKWMJsonL3Test.sh testListeners             | 1\. With default resolution,invoke the createDisplay function with the google browser client.<br>2\. AddKeyListener with keyCode 70 with client googletestapp.<br>3\. GenerateKey for keyCode 70 without client.<br>4\.RemoveKeyListener for keyCode 70 with client googletestapp.<br>5\.Deactivate webkitBrowser.<br><br>Note:<br><br>Before starting the test, Stop the sky service using systemctl command                                                                                                                  | On Screen Display - Yes, GoogleBrowser will launch and f should be seen on google screen if focus is googleBrowser <br> logs: rdkwindowmanager_focus create: setting focus of first application created googletestapp<br>From Logs: methods request and response<br><br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.createDisplay", "params":{"displayParams":"{\\"callsign\\":\\"googletestapp\\", \\"displayName\\": \\"wst-webkitbrowser\\"}"}}<br>Expected: null<br>Result: null<br>CreateDisplayForGoogle : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 4,"method": "Controller.1.activate", "params": { "callsign": "WebKitBrowser"}}<br>Expected: null<br>Result: null<br>WebkitBrowserActivate : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method":"WebKitBrowser.1.url","params":"http://www.google.com"}<br>Expected: null<br>Result: null<br>LaunchGoogleWeb : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "4","method": "org.rdk.RDKWindowManager.addKeyListener","params": {"keyListeners": "{\\"keys\\": [{\\"keyCode\\":70, \\"activate\\":true, \\"propagate\\":false}], \\"client\\": \\"googletestapp\\"}"}}<br>Expected: null<br>Result: null<br>addKeyListener : Success<br>---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "3","method": "org.rdk.RDKWindowManager.generateKey","params": {"keys": "{\\"keys\\": [{\\"keyCode\\": 70, \\"delay\\": 5, \\"modifiers\\": []}]}"}}<br>Expected: null<br>Result: null<br>generateKeyafterAddKeyListener : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "4","method": "org.rdk.RDKWindowManager.removeKeyListener","params": {"keyListeners": "{\\"keys\\": [{\\"keyCode\":70, \\"activate\\":true, \\"propagate\\":false}],\\"client\\": \\"googletestapp\\"}"}}<br>Expected: null<br>Result: null<br>removeKeyListener : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 4,"method": "Controller.1.deactivate", "params": { "callsign": "WebKitBrowser"}}<br>Expected: null<br>Result: null<br>WebkitBrowserDeactivate : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Total Test Cases - 7<br>Success Test Count - 7<br>Failed Test Count - 0<br>\---------------------------------------------------------------|         |--------
| 5     | testIntercept1                  | RDKWMJsonL3Test.sh testIntercept1            | 1\. With default resolution,invoke the createDisplay function with the google browser client.<br>2\. AddKeyIntercept with keyCode 65 with shift with client googletestapp.<br>3\. InjectKey for keyCode 65 with Modifers shift.<br>4\.RemoveKeyIntercept with keyCode 65 with shift,client googletestapp.<br>5\.Deactivate webkitBrowser.<br><br>Note:<br><br>Before starting the test, Stop the sky service using systemctl command                                                                                           | On Screen Display - Yes, GoogleBrowser will launch and A should be seen in the screen as key A is intercepted with googleclient <br>logs: injectKey  keyCode 65  flags 8,<br> rdkwindowmanager_focus key intercepted: 1 focused client: googletestapp<br>From Logs: methods request and response<br><br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.createDisplay", "params":{"displayParams":"{\\"callsign\\":\\"googletestapp\\", \\"displayName\\": \\"wst-webkitbrowser\\"}"}}<br>Expected: null<br>Result: null<br>CreateDisplayForGoogle : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 4,"method": "Controller.1.activate", "params": { "callsign": "WebKitBrowser"}}<br>Expected: null<br>Result: null<br>WebkitBrowserActivate : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method":"WebKitBrowser.1.url","params":"http://www.google.com"}<br>Expected: null<br>Result: null<br>LaunchGoogleWeb : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.addKeyIntercept", "params":{"intercept":"{\\"keyCode\\":65,\\"modifiers\\": [\\"shift\\"],\\"client\\":\\"googletestapp\\"}"}}<br>Expected: null<br>Result: null<br>addKeyIntercept : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "3","method": "org.rdk.RDKWindowManager.injectKey","params": {"keyCode":65, "modifiers": "{\\"modifiers\": [\\"shift\\"]}"}}<br>Expected: null<br>Result: null<br>injectKeyAfterAddKeyIntercept : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.removeKeyIntercept", "params":{"intercept":"{\\"keyCode\\":65,\\"modifiers\\": [\\"shift\\"],\\"client\\":\\"googletestapp\\"}"}}<br>Expected: null<br>Result: null<br>removeKeyIntercept : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 4,"method": "Controller.1.deactivate", "params": { "callsign": "WebKitBrowser"}}<br>Expected: null<br>Result: null<br>WebkitBrowserDeactivate : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Total Test Cases - 7<br>Success Test Count - 7<br>Failed Test Count - 0<br>\---------------------------------------------------------------|        |-----
| 6     | testIntercept2                  | RDKWMJsonL3Test.sh testIntercept2            | 1\. With default resolution,invoke the createDisplay function with the google browser client.<br>2\. AddKeyIntercept with keyCode 66 with client googletestapp.<br>3\.GenerateKey for keyCode 66 with Modifers shift ,with client googletestapp.<br>4\.RemoveKeyIntercept with keyCode 66 with modifier shift, client googletestapp.<br>5\.Deactivate webkitBrowser.<br><br>Note:<br><br>Before starting the test, Stop the sky service using systemctl command                                                                | On Screen Display - Yes, GoogleBrowser will launch and B should be seen on the screen as key B is intercepted with googleclient <br>From Logs: methods request and response<br><br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.createDisplay", "params":{"displayParams":"{\\"callsign\\":\\"googletestapp\\", \\"displayName\\":\\"wst-webkitbrowser\\"}"}}<br>Expected: null<br>Result: null<br>testCreateDisplayForGoogle : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 4,"method": "Controller.1.activate", "params": { "callsign": "WebKitBrowser"}}<br>Expected: null<br>Result: null<br>testWebkitBrowserActivate : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method":"WebKitBrowser.1.url","params":"http://www.google.com"}<br>Expected: null<br>Result: null<br>testLaunchGoogleWeb : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.addKeyIntercept", "params":{"intercept":"{\\"keyCode\\":66,\\"modifiers\\":[\\"shift\\"],\\"client\\":\\"googletestapp\\"}"}}<br>Expected: null<br>Result: null<br>testAddKeyIntercept : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "3","method": "org.rdk.RDKWindowManager.generateKey","params": {"keys": "{\\"keys\\":[{\\"keyCode\\":66,\\"delay\\":10,\\"modifiers\\":[\\"shift\\"]}]}"}}<br>Expected: null<br>Result: null<br>testGenerateKeyAfterAddKeyIntercept : Success<br>\---------------------------------------------------------------<br>\-------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.removeKeyIntercept", "params":{"intercept":"{\\"keyCode\\":66,\\"modifiers\\":[\\"shift\\"],\\"client\\":\\"googletestapp\\"}"}}<br>Expected: null<br>Result: null<br>testRemoveKeyIntercept : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 4,"method": "Controller.1.deactivate", "params": { "callsign": "WebKitBrowser"}}<br>Expected: null<br>Result: null<br>testWebkitBrowserDeactivate : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Total Test Cases - 7<br>Success Test Count - 7<br>Failed Test Count - 0<br>\---------------------------------------------------------------|       |---------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
| 7     | testIntercept3                  | RDKWMJsonL3Test.sh testIntercept3            | 1\. with default Resolution,invoke the createDisplay function and launch the google browser client.<br>2\. Create and Launch westeros test.<br>3\. AddKeyIntercept with keyCode 67 with modifer shift , client westerostest.<br>4\.InjectKey for keyCode 67 and 68 with Modifers shift.<br>5\.RemoveKeyIntercept with keyCode 67 with modifier shift, client westerostest.<br>6\.kill westerostest.<br>7\.Deactivate webkitBrowser.<br><br>Note:<br><br>Before starting the test, Stop the sky service using systemctl command | On Screen Display - Yes, GoogleBrowser and westeros client is launched injectKey 67 is not seen in googlescreen as it is intercepted and 68 is seen if focus is googlebrowser <br>From Logs: Google Browser request and response same as above,other methods request and response<br><br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.createDisplay", "params":{"displayParams":"{\\"callsign\\":\\"westerostest\\"}"}}<br>Expected: null<br>Result: null<br>westerostestapp : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.addKeyIntercept", "params":{"intercept":"{\\"keyCode\\":67,\\"modifiers\\": [\\"shift\\"],\\"client\\":\\"westerostest\\"}"}}<br>Expected: null<br>Result: null<br>addKeyIntercept :Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "3","method": "org.rdk.RDKWindowManager.injectKey","params": {"keyCode":67, "modifiers": "{\\"modifiers\": [\\"shift\\"]}"}}<br>Expected: null<br>Result: null<br>injectKeyAfterAddKeyInterceptKeyCode67 : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "3","method": "org.rdk.RDKWindowManager.injectKey","params": {"keyCode":68, "modifiers": "{\\"modifiers\\": [\\"shift\\"]}"}}<br>Expected: null<br>Result: null<br>injectKeyAfterAddKeyInterceptKeyCode68 : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.removeKeyIntercept", "params":{"intercept":"{\\"keyCode\\":67,\\"modifiers\\": [\\"shift\\"],\\"client\\":\\"westerostest\\"}"}}<br>Expected: null<br>Result: null<br>removeKeyIntercept : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>./RDKWMJsonL3Test.sh: line 155:  1298 Terminated   /usr/bin//westeros_test<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 4,"method": "Controller.1.deactivate", "params": { "callsign": "WebKitBrowser"}}<br>Expected: null<br>Result: null<br>WebkitBrowserDeactivate : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Total Test Cases - 9<br>Success Test Count - 9<br>Failed Test Count - 0<br>\---------------------------------------------------------------|       |                                                                                                                                                     
| 8     | testIntercept4                  | RDKWMJsonL3Test.sh testIntercept4            | 1\. with default Resolution,invoke the createDisplay function and launch the google browser client.<br>2\. Create and Launch westeros test.<br>3\. AddKeyIntercept with keyCode 67 with modifer shift , client westerostest.<br>4\.GenerateKey for keyCode 67 with Modifers shift.<br>5\.RemoveKeyIntercept with keyCode 67 with modifier shift, client westerostest<br>6\.kill westerostest.<br>7\.Deactivate webkitBrowser <br><br>Note:<br><br>Before starting the test, Stop the sky service using systemctl command       | On Screen Display - Yes, Google Browser and westeros client is launched During GenerateKey C is not seen on the google screen as it is intercepted and D can be seen as it is not intercepted ,<br>logs: generateKey  keyCode 67  flags 8,<br> generateKey with duration  keyCode 67  flags 8<br>rdkwindowmanager_focus key intercepted: 1 focused client: googletestapp<br>From Logs: Google Browser request and response same as above,other methods request and response<br><br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.createDisplay", "params":{"displayParams":"{\\"callsign\\":\\"westerostest\\"}"}}<br>Expected: null<br>Result: null<br>westerostestapp : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.addKeyIntercept", "params":{"intercept":"{\\"keyCode\\":67,\\"modifiers\\": [\\"shift\\"],\\"client\\":\\"westerostest\\"}"}}<br>Expected: null<br>Result: null<br>addKeyIntercept : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "3","method": "org.rdk.RDKWindowManager.generateKey","params": {"keys": "{\\"keys\\": [{\\"keyCode\\": 67, \\"delay\\": 5, \\"modifiers\\": [\\"shift\\"]},{\\"keyCode\\": 68, \\"delay\\": 5, \\"modifiers\\": [\\"shift\\"]}]}"}}<br>Expected: null<br>Result: null<br>generateKeyAfterAddKeyInterceptWithoutClientSpecified : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.removeKeyIntercept", "params":{"intercept":"{\\"keyCode\\":67,\\"modifiers\\": [\\"shift\\"],\\"client\\":\\"westerostest\\"}"}}<br>Expected: null<br>Result: null<br>removeKeyIntercept : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>RDKWMJsonL3Test.sh: line 155:  8965 Terminated   /usr/bin//westeros_test<br>Request: {"jsonrpc": "2.0","id": 4,"method": "Controller.1.deactivate", "params": { "callsign": "WebKitBrowser"}}<br>Expected: null<br>Result: null<br>WebkitBrowserDeactivate : Success<br>Total Test Cases - 8<br>Success Test Count - 8<br>Failed Test Count - 0<br>\---------------------------------------------------------------|    |
| 9     | testGenerateKey                 | RDKWMJsonL3Test.sh testGenerateKey           | 1\. create and launch westeros test client.<br>2\. with default Resolution,invoke the createDisplay function and launch the google browser client.<br>3\.Generate key  with keyCode 67 and 68 with modifer shift ,without client .<br>4\.GenerateKey for keyCode 67 and 68 with Modifers shift,with client googletestapp.<br>6\.kill westerostest.<br>7\.Deactivate webkitBrowser.<br><br>Note:<br><br>Before starting the test, Stop the sky service using systemctl command | On Screen Display - Yes Westeros client and Google Browser will launch , first generateKey CD is not seen as focus is on westeros and 2nd generateKeywithClient on the screen CD is seen  <br>From Logs: methods request and response<br><br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.createDisplay", "params":{"displayParams":"{\\"callsign\\":\\"westerostest\\"}"}}<br>Expected: null<br>Result: null<br>westerostestapp : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.generateKey", "params":{"keys": "{\"keys\": [{\"keyCode\": 67, \"delay\": 5, \"modifiers\": [\"shift\"]},{\"keyCode\": 68, \"delay\": 5, \"modifiers\": [\"shift\"]}]}"}}'<br>Expected: null<br>Result: null<br>generateKeyWithoutClient : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "3","method": "org.rdk.RDKWindowManager.generateKey","params": {"keys": "{\\"keys\\": [{\\"keyCode\\": 67, \\"delay\\": 5, \\"modifiers\\": [\\"shift\\"]},{\\"keyCode\\": 68, \\"delay\\": 5, \\"modifiers\\": [\\"shift\\"]}]}","client": "googletestapp"}}<br>Expected: null<br>Result: null<br>generateKeytWithClient : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>RDKWMJsonL3Test.sh: line 155:  8965 Terminated   /usr/bin//westeros_test<br>Request: {"jsonrpc": "2.0","id": 4,"method": "Controller.1.deactivate", "params": { "callsign": "WebKitBrowser"}}<br>Expected: null<br>Result: null<br>WebkitBrowserDeactivate : Success<br>Total Test Cases - 7<br>Success Test Count - 7<br>Failed Test Count - 0<br>\---------------------------------------------------------------|    |                                                                                                                                                                                                                               
| 10    | testIntercepts                  | RDKWMJsonL3Test.sh testIntercepts            | 1\. with default Resolution,invoke the createDisplay function and launch the google browser client.<br>2\. create and Launch westerostest.<br>3\. AddKeyIntercepts for keyCode 75 and 76 with shift,client googletestapp & 80 with shift and 79 with no modifiers,client westerostest.<br>4\.GenerateKey for keyCode 79 with no modifiers and 76 with shift, client googletestapp.<br>5\.GenerateKey for keyCode 79 with no modifiers and 76 with shift, without client.<br>6\.RemoveKeyIntercept with keyCode 79 with modifier shift, client westerostest.<br>7\.kill westerostest.<br>8\.Deactivate webkitBrowser.<br><br>Note:<br><br>Before starting the test, Stop the sky service using systemctl command    | On Screen Display - Yes GoogleBrowser and Westeros is launched , 1st GenerateKey of o and L will be seen as client is specifed and 2nd generateKey as o is intercepted not seen and only L is seen <br>From Logs: Google Browser request and response same as above , other method request & response .<br><br>---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.createDisplay", "params":{"displayParams":"{\\"callsign\\":\\"westerostest\\"}"}}<br>Expected: null<br>Result: null<br>westerostestapp : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "3","method": "org.rdk.RDKWindowManager.addKeyIntercepts","params": {"intercepts": "{\"intercepts\": [{\"keys\": [{\"keyCode\": 75, \"modifiers\": [\"shift\"]},{\"keyCode\": 76, \"modifiers\": [\"shift\"]}],\"client\": \"googletestapp\"},{\"keys\": [{\"keyCode\": 79, \"modifiers\": []},{\"keyCode\": 80, \"modifiers\": [\"shift\"]}],\"client\": \"westerostest\"}]}"}}<br>Expected: null<br>Result: null<br>addKeyInterceptsForbothWesterostestandgoogletest : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "3","method": "org.rdk.RDKWindowManager.generateKey","params": {"keys": "{\\"keys\\": [{\\"keyCode\\": 79, \\"delay\\": 5, \\"modifiers\\": []},{\\"keyCode\\": 76, \\"delay\\": 5, \\"modifiers\\": [\\"shift\\"]}]}","client": "googletestapp"}}<br>Expected: null<br>Result: null<br>generateKeyAfterAddKeyInterceptsForGoogletestapp : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "3","method": "org.rdk.RDKWindowManager.generateKey","params": {"keys": "{\\"keys\\": [{\\"keyCode\\": 79, \\"delay\\": 5, \\"modifiers\\": []},{\\"keyCode\\": 76, \\"delay\\": 5, \\"modifiers\\": [\\"shift\\"]}]}"}}<br>Expected: null<br>Result: null<br>generateKeyAfterAddKeyInterceptsWithoutClient : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.removeKeyIntercept", "params":{"intercept":"{\\"keyCode\\":79,\\"modifiers\\": [],\\"client\\":\\"westerostest\\"}"}}<br>Expected: null<br>Result: null<br>removeKeyIntercept : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>/RDKWMJsonL3Test.sh: line 155: 10756 Terminated              /usr/bin//westeros_test<br>Request: {"jsonrpc": "2.0","id": 4,"method": "Controller.1.deactivate", "params": { "callsign": "WebKitBrowser"}}<br>Expected: null<br>Result: null<br>WebkitBrowserDeactivate : Success<br>---------------------------------------------------------------Total Test Cases - 9<br>Success Test Count - 9<br>Failed Test Count - 0<br>\---------------------------------------------------------------|        |
| 11    | testInjectGenerateKey           | RDKWMJsonL3Test.sh testInjectGenerateKey     | 1\.  with default Resolution,invoke the createDisplay function and launch the google browser client.<br>2\. injectKey for keyCode 71.<br>3\.GenerateKey for keyCode 72 and 73 with shift,client googletestapp.<br>4\.Deactivate webkitBrowser.<br><br>Note:<br><br>Before starting the test, Stop the sky service using systemctl command | On Screen Display - Yes, Google Browser is launched ,injectKey G is seen if focus is googlebrowser and generateKey h and I should be seen as client is specified <br>From Logs: methods for request and response<br><br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.createDisplay", "params":{"displayParams":"{\"callsign\":\"googletestapp\", \"displayName\": \"wst-webkitbrowser\"}"}}<br>Expected: null<br>Result: null<br>CreateDisplayForGoogle : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 4,"method": "Controller.1.activate", "params": { "callsign": "WebKitBrowser"}}<br>Expected: null<br>Result: null<br>WebkitBrowserActivate : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method":"WebKitBrowser.1.url","params":"http://www.google.com"}<br>Expected: null<br>Result: null<br>LaunchGoogleWeb : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "3","method": "org.rdk.RDKWindowManager.injectKey","params": {"keyCode":71, "modifiers": "{\\"modifiers\\": [\\"shift\\"]}"}}<br>Expected: null<br>Result: null<br>injectKey : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "3","method": "org.rdk.RDKWindowManager.generateKey","params": {"keys": "{\\"keys\\": [{\\"keyCode\\": 72, \\"delay\\": 5, \\"modifiers\\": []},{\\"keyCode\\": 73, \\"delay\\": 5, \\"modifiers\\": [\\"shift\\"]}]}","client": "googletestapp"}}<br>Expected: null<br>Result: null<br>generateKey : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 4,"method": "Controller.1.deactivate", "params": { "callsign": "WebKitBrowser"}}<br>Expected: null<br>Result: null<br>WebkitBrowserDeactivate : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Total Test Cases - 6<br>Success Test Count - 6<br>Failed Test Count - 0<br>\---------------------------------------------------------------|       |
| 12    | testKeyListenersFailures        | RDKWMJsonL3Test.sh testKeyListenersFailures  | 1\. AddKeyListener with both keyCode and NativeKeyCode present.<br>2\. Expecting ERROR_GENERAL in error code.<br>3\.AddKeyListener without both keyCode and NativeKeyCode.<br>4\.Expecting ERROR_GENERAL in error code.<br>5\.RemoveKeyListener with both keyCode and NativeKeyCode.<br>6\.Expecting ERROR_GENERAL in error code.<br>7\.RemoveKeyListener without both keyCode and NativeKeyCode.<br>8\.Expecting ERROR_GENERAL in error code.| On Screen Display - Yes<br>From Logs: methods for request and response<br><br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "4","method": "org.rdk.RDKWindowManager.addKeyListener","params": {"keyListeners": "{\\"keys\\": [{\\"keyCode\\":70,\\"nativeKeyCode\\": 72,\\"activate\\":true, \\"propagate\\":false}], \\"client\\": \\"googletestapp\\"}"}}<br>Expected: "code":1,"message":"ERROR_GENERAL"<br>Result: "code":1,"message":"ERROR_GENERAL"<br>testAddKeyListenersForFailureCasesForAddingBothKeyCodeAndNativeKeyCode : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "4","method": "org.rdk.RDKWindowManager.addKeyListener","params": {"keyListeners": "{\\"keys\\": [{\\"activate\\":true, \\"propagate\\":false}], \\"client\\": \\"googletestapp\\"}"}}<br>Expected: "code":1,"message":"ERROR_GENERAL"<br>Result: "code":1,"message":"ERROR_GENERAL"<br>testAddKeyListenersForFailureCasesForNotHavingBothKeyCodeAndNativeKeyCode : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "4","method": "org.rdk.RDKWindowManager.removeKeyListener","params": {"keyListeners": "{\\"keys\\": [{\\"keyCode\\":70,\\"nativeKeyCode\\": 72,\\"activate\\":true, \\"propagate\\":false}], \\"client\\": \\"googletestapp\\"}"}}<br>Expected: "code":1,"message":"ERROR_GENERAL"<br>Result: "code":1,"message":"ERROR_GENERAL"<br>testRemoveKeyListenersForFailureCasesForAddingBothKeyCodeAndNativeKeyCode : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": "4","method": "org.rdk.RDKWindowManager.removeKeyListener","params": {"keyListeners": "{\\"keys\\": [{\\"activate\\":true, \\"propagate\\":false}], \\"client\\": \\"googletestapp\\"}"}}<br>Expected: "code":1,"message":"ERROR_GENERAL"<br>Result: "code":1,"message":"ERROR_GENERAL"<br>testRemoveKeyListenersForFailureCasesForNotHavingBothKeyCodeAndNativeKeyCode : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Total Test Cases - 4<br>Success Test Count - 4<br>Failed Test Count - 0<br>\---------------------------------------------------------------|       |                                                                                                                                                                                                                                                                                                                                                                    
| 13     | testInactivity1    | RDKWMJsonL3Test.sh testInactivity1    | 1\. Enable the inactivity reporting feature.<br>2\. Set inactivity time of 1 minute.                                                                                                                                                                                                                                                                                                        | On Screen Display - No<br>Sample logs that needs to be observed(time may differ depending upon the current time)<br>\---------------------------------------------<br>i)EnableInactivityReporting: EnableInactivityReporting Entered<br>ii)setInactivityInterval: RDKWindowManager setInactivity for Interval:1<br>iii)Callback should be invoked for every minute<br>onUserInactive: RDKWindowManager onUserInactive event received minutes: 1.346539<br>onUserInactive: RDKWindowManager onUserInactive event received minutes: 2.346863<br>																																																																																																																																																																									 |         |
| 14     | testInactivity2    | RDKWMJsonL3Test.sh testInactivity2    | 1\. Disable the inactivity reporting feature.<br>2\. Set inactivity time of 1 minute.                                                                                                                                                                                                                                                                                                       | On Screen Display - No<br>Sample logs that needs to be observed(time may differ depending upon the current time)<br>\---------------------------------------------<br>i)EnableInactivityReporting: EnableInactivityReporting Entered<br>ii)setInactivityInterval: RDKWindowManager setInactivity for Interval:1<br>iii)Callback should not be invoked as the feature is disabled<br>i.e ,Should not be seeing below log:<br>onUserInactive: RDKWindowManager onUserInactive event received minutes: <><br>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |         |
| 15     | testInactivity3    | RDKWMJsonL3Test.sh testInactivity3    | 1\. Enable the inactivity reporting feature.<br>2\. Set inactivity time of 1 minute.<br>3\.Wait for 40seconds and then reset                                                                                                                                                                                                                                                                | On Screen Display - No<br>Sample logs that needs to be observed(time may differ depending upon the current time)<br>\---------------------------------------------<br>i)EnableInactivityReporting: EnableInactivityReporting Entered<br>ii)onUserInactive: RDKWindowManager onUserInactive event received minutes: 7.305942Â <br>iii)setInactivityInterval: RDKWindowManager setInactivity for Interval:1<br>iv)Callback will be incoming now:<br>onUserInactive: RDKWindowManager onUserInactive event received minutes: 7.306774<br>v)resetInactivityTime: RDKWindowManager inactivity time reset<br>vi)The inactive timer will be reset and it will restart counting amin offset with current time<br>i.e,<br>Dispatch: RDKWindowManager Dispatch OnUserInactivity minutes: 1.000350<br>Dispatch: RDKWindowManager Dispatch OnUserInactivity minutes: 2.000690																																																																																												 |         |
| 16    | testInactivity4    | RDKWMJsonL3Test.sh testInactivity4    | 1\. Ran westeros test application.<br>2\. Enable the inactivity reporting feature.<br>3\.Set inactivity time of 1min and wait for 40secs <br>4\. Inject key                                                                                                                                                                                                                                 | On Screen Display - Westeros app will be running<br>Sample logs that needs to be observed(time may differ depending upon the current time)<br>\---------------------------------------------<br>i)EnableInactivityReporting: EnableInactivityReporting Entered<br>ii)setInactivityInterval: RDKWindowManager setInactivity for Interval:1Â <br>iii)Callback will be incoming now for every minute:<br>Dispatch: RDKWindowManager Dispatch OnUserInactivity minutes: 3.70336<br>iv)InjectKey: modifiers :shift<br>v)The inactive timer will be reset and it will restart counting amin offset with current time<br>i.e,<br>Dispatch: RDKWindowManager Dispatch OnUserInactivity minutes: 1.000240<br>Dispatch: RDKWindowManager Dispatch OnUserInactivity minutes: 2.000720<br>																																																																																																																	 |         |
| 17     | testGetClients1                 | RDKWMJsonL3Test.sh testGetClients1           | 1\. It will invoke the getClients function without calling the createDisplay and ensure no clients are present<br>Note: This test was run without performing any createDisplay.                                                                                                                                                                                                             | On Screen Display - No<br>From Logs: createDisplay and getClients methods request and response<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 42,"method": "org.rdk.RDKWindowManager.getClients"}<br>Expected: ""<br>Result: ""<br>testGetClients2 : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Total Test Cases - 1<br>Success Test Count - 1<br>Failed Test Count - 0<br>\---------------------------------------------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |         |
| 18    | testGetClients2                 | RDKWMJsonL3Test.sh testGetClients2           | 1\. It will invoke the createDisplay function with client only.<br>2\. It will invoke the getClients function to verify that the client is present.                                                                                                                                                                                                                                         | On Screen Display - No<br>From Logs: createDisplay and getClients methods request and response<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 42,"method": "org.rdk.RDKWindowManager.createDisplay","params": {"displayParams": "{\\"client\\": \\"org.rdk.Netflix\\",\\"callsign\\": \\"org.rdk.Netflix\\",\\"displayName\\": \\"test\\"}"}}<br>Expected: null<br>Result: null<br>testGetClients1 : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 42,"method": "org.rdk.RDKWindowManager.getClients"}<br>Expected: "[\\"org.rdk.netflix\\"]"<br>Result: "[\\"org.rdk.netflix\\"]"<br>testGetClients1 : Success<br>\---------------------------------------------------------------<br>\---------------------------------------------------------------<br>Total Test Cases - 2<br>Success Test Count - 2<br>Failed Test Count - 0<br>\--------------------------------------------------------------                                      
| 19    | testGetKeyRepeatsEnabled   | RDKWMJsonL3Test. testGetKeyRepeatsEnabled | 1. Call the testEnableKeyRepeats function to disable the key repeat feature.<br> 2.Invoke the org.rdk.RDKWindowManager.getKeyRepeatsEnabled method <br>3.Verify that the response is false, indicating that key repeats are disabled.<br>4.Call the testEnableKeyRepeats function to enable the key repeat feature<br> 5.Invoke the org.rdk.RDKWindowManager.getKeyRepeatsEnabled method<br> 6.Verify that the response is true, confirming that key repeats are enabled.| On Screen Display - No<br> From Logs: getKeyRepeatsEnabled methods request and response<br>----------------------------------------------------------- <br>Request: {"jsonrpc": "2.0", "id": "1", "method": "org.rdk.RDKWindowManager.enableKeyRepeats", "params": {"enable": false}} <br>Expected: null<br>Result: null<br>testEnableKeyRepeat_setKeyRepeatDisable : Success<br>--------------------------------------------------------------- <br>---------------------------------------------------------------<br>---- Testing GetKeyRepeatsEnabled Flow ----<br>Success: null<br>---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0", "id": "1", "method": "org.rdk.RDKWindowManager.enableKeyRepeats", "params": {"enable": false}}<br>Expected: null<br>Result: null<br>testEnableKeyRepeat_false : Success<br>---------------------------------------------------------------<br>Success: false<br>---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0", "id": "3", "method": "org.rdk.RDKWindowManager.getKeyRepeatsEnabled"}<br>Expected: false<br>Result: false<br>testGetKeyRepeatsEnabled : Success<br>---------------------------------------------------------------<br>Success: null<br>---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0", "id": "1", "method": "org.rdk.RDKWindowManager.enableKeyRepeats", "params": {"enable": true}}<br>Expected: null<br>Result: null<br>testEnableKeyRepeat_true : Success<br>---------------------------------------------------------------<br>Success: true<br>---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0", "id": "3", "method": "org.rdk.RDKWindowManager.getKeyRepeatsEnabled"}<br>Expected: true<br>Result: true<br>testGetKeyRepeatsEnabled : Success<br>---------------------------------------------------------------<br>---------------------------------------------------------------<br>Total Test Cases - 4<br>Success Test Count - 4<br>Failed Test Count - 0<br>---------------------------------------------------------------
|20     | testInputEventEnable | RDKWMJsonL3Test.sh testInputEventEnable| 1.create a display using the createDisplay API <br> 2.Activate the WebKitBrowser plugin by invoking the Controller.1.activate<br> 3.Load the Google homepage in the WebKitBrowser<br>4. Enable input events for the testapp client by calling the testSetInputEventEnable function.<br>5.Attempt to inject a key  using the injectKey API<br>6.Verify that the response is null <br>7.Confirm that the key injection is  accepted on the WebKitBrowser application side when input events are Enabled | On Screen Display - Confirm that the key injection is  accepted on the WebKitBrowser application side<br>From Logs: enableInputEvent method request and response<br>\---------------------------------------------------------------<br>--------------------------------------------------------------<br>---------------------------------------------------------------<br>Request: <br>        "jsonrpc": "2.0",<br>         "id": "5",<br>         "method": "org.rdk.RDKWindowManager.enableInputEvents",<br>         "params": { "clients": {"clients": ["testapp"]}, { "enable": true }}<br> Expected: null<br> Result: null<br> testSetInputEventEnable : Success<br> ---------------------------------------------------------------<br> Success: null<br> ---------------------------------------------------------------<br> Request: <br>         "jsonrpc": "2.0",<br>         "id": "5",<br>         "method": "org.rdk.RDKWindowManager.enableInputEvents",<br>         "params": { "clients": {"clients": ["testapp"]}, {<br> enable": true }}<br> Expected: null<br> Result: null<br> testInjectKey_InputEventEnabled : Success<br> ---------------------------------------------------------------<br> {"jsonrpc":"2.0","id":4,"result":null}---- Confirm on the WebKitBrowser application side that the Generate key is  accepted when input events are Enabled. ----<br> ---------------------------------------------------------------<br> ---------------------------------------------------------------<br>Total Test Cases - 2<br>Success Test Count - 2<br>Failed Test Count - 0<br>---------------------------------------------------------------<br>
|21     | testInputEventDisable | RDKWMJsonL3Test.sh testInputEventDisable| 1.create a display using the createDisplay API <br> 2.Activate the WebKitBrowser plugin by invoking the Controller.1.activate<br> 3.Load the Google homepage in the WebKitBrowser<br>4. Disable input events for the testapp client by calling the testSetInputEventEnable function.<br>5.Attempt to inject a key  using the injectKey API<br>6.Verify that the response is null <br>7.Confirm that the key injection is  NOT accepted on the WebKitBrowser application side when input events are Disabled | On Screen Display - Confirm that the key injection is  NOT accepted on the WebKitBrowser application side<br>From Logs: enableInputEvent method request and response<br>\---------------------------------------------------------------<br>--------------------------------------------------------------<br>Request: {<br>  "jsonrpc": "2.0",<br>"id": "6",<br>"method": "org.rdk.RDKWindowManager.enableInputEvents", "params": { "clients": {"clients": ["testapp"]}, "enable": false }}<br>Expected: null<br>Result: null<br>testEnableInputEvents_setInputEventDisable : Success<br>---------------------------------------------------------------<br>---------------------------------------------------------------<br>Request: {<br> "jsonrpc": "2.0",<br> "id": "6",<br> "method": "org.rdk.RDKWindowManager.enableInputEvents",        "params": { "clients": {"clients": ["testapp"]}, "enable": false }}<br>Expected: null<br>Result: null<br>testInjectKey_InputEventDisabled : Success<br>---------------------------------------------------------------<br>---------------------------------------------------------------{"jsonrpc":"2.0","id":4,"result":null}---- Confirm on the WebKitBrowser application side that the Generate key is NOT accepted when input events are disabled. ----<br>---------------------------------------------------------------<br>Total Test Cases - 2<br>Success Test Count - 2<br>Failed Test Count - 0 
|22     | testIgnoreKeyInputsEnable      |RDKWMJsonL3Test.sh testIgnoreKeyInputsEnable |Prerequisites:The RDK_WINDOW_MANAGER_ENABLE_KEY_IGNORE feature must be enabled (set to 1) for this function to execute.<br>1.create a display using the createDisplay API <br> 2.Activate the WebKitBrowser plugin by invoking the Controller.1.activate<br> 3.Load the Google homepage in the WebKitBrowser<br>4. Enable the ignoreKeyInputs feature by invoking the ignoreKeyInputs API with the enabled parameter set to true.<br>5.Verify that the response is null.<br>6.Attempt to press a key using the Remote Controller".<br>7.Confirm that the key injection is not accepted on the application side when key inputs are ignored.| On Screen Display - Confirm that the key injection is not accepted on the WebKitBrowser application side<br>From Logs: ignoreKeyInputs method request and response<br>\---------------------------------------------------------------<br>---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.createDisplay", "params":{"displayParams":"{\"callsign\":\"googletestapp\", \"displayName\": \"wst-webkitbrowser\"}"}}<br>Expected: null<br>Result: null<br>CreateDisplayForGoogle : Success<br>---------------------------------------------------------------<br>Success: null<br>---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 4,"method": "Controller.1.activate", "params": { "callsign": "WebKitBrowser"}}<br>Expected: null<br>Result: null<br>WebkitBrowserActivate : Success<br>---------------------------------------------------------------<br>Success: null<br>---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method":"WebKitBrowser.1.url","params":"http://www.google.com"}<br>Expected: null<br>Result: null<br>LaunchGoogleWeb : Success<br>---------------------------------------------------------------<br>---- Testing Inject Key Flow when Input Events are Disabled ----<br>Success: null<br>---------------------------------------------------------------<br>Request: {<br>        "jsonrpc": "2.0",<br>        "id": "5",<br>        "method": "org.rdk.RDKWindowManager.ignoreKeyInputs",<br>        "params": {"ignore": true}  }<br>Expected: null<br>Result: null<br>testIgnoreKeyInputs_true : Success<br>---------------------------------------------------------------<br>---- Confirm on the WebKitBrowser application side that the physical key press [remote key press] is NOT  accepted when IgnoreKey Inputs Disbled. ----<br>Success: null<br>---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 4,"method": "Controller.1.deactivate", "params": { "callsign": "WebKitBrowser"}}<br>Expected: null<br>Result: null<br>WebkitBrowserDeactivate : Success<br>---------------------------------------------------------------<br>---------------------------------------------------------------<br>Total Test Cases - 5<br>Success Test Count - 5<br>Failed Test Count - 0<br>---------------------------------------------------------------<br>
|23     | testIgnoreKeyInputsDisable      |RDKWMJsonL3Test.sh testIgnoreKeyInputsDisable |Prerequisites:The RDK_WINDOW_MANAGER_ENABLE_KEY_IGNORE feature must be enabled (set to 1) for this function to execute.<br>1.create a display using the createDisplay API <br> 2.Activate the WebKitBrowser plugin by invoking the Controller.1.activate<br> 3.Load the Google homepage in the WebKitBrowser<br>4. Disable the ignoreKeyInputs feature by invoking the ignoreKeyInputs API with the enabled parameter set to false.<br>5.Verify that the response is null.<br>6.Attempt to press a key using the Remote Controller".<br>7.Confirm that the key injection is  accepted on the application side when key inputs are ignored.| On Screen Display - Confirm that the key injection is  accepted on the WebKitBrowser application side<br>From Logs: ignoreKeyInputs method request and response<br>\---------------------------------------------------------------<br>---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method": "org.rdk.RDKWindowManager.createDisplay", "params":{"displayParams":"{\"callsign\":\"googletestapp\", \"displayName\": \"wst-webkitbrowser\"}"}}<br>Expected: null<br>Result: null<br>CreateDisplayForGoogle : Success<br>---------------------------------------------------------------<br>Success: null<br>---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 4,"method": "Controller.1.activate", "params": { "callsign": "WebKitBrowser"}}<br>Expected: null<br>Result: null<br>WebkitBrowserActivate : Success<br>---------------------------------------------------------------<br>Success: null<br>---------------------------------------------------------------<br>Request: {"jsonrpc":"2.0","id":"3","method":"WebKitBrowser.1.url","params":"http://www.google.com"}<br>Expected: null<br>Result: null<br>LaunchGoogleWeb : Success<br>---------------------------------------------------------------<br>---- Testing Inject Key Flow when Input Events are Disabled ----<br>Success: null<br>---------------------------------------------------------------<br>Request: {<br>        "jsonrpc": "2.0",<br> "id": "5",        "method": "org.rdk.RDKWindowManager.ignoreKeyInputs",<br>        "params": {"ignore": false}<br>    }<br>Expected: null<br>Result: null<br>testIgnoreKeyInputs_false : Success<br>---------------------------------------------------------------<br>---- Confirm on the WebKitBrowser application side that the physical key press [remote key press] is  accepted when IgnoreKey Inputs Disbled. ----<br>Success: null<br>---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0","id": 4,"method": "Controller.1.deactivate", "params": { "callsign": "WebKitBrowser"}}<br>Expected: null<br>Result: null<br>WebkitBrowserDeactivate : Success<br>---------------------------------------------------------------<br>---------------------------------------------------------------<br>Total Test Cases - 5<br>Success Test Count - 5<br>Failed Test Count - 0<br>---------------------------------------------------------------<br>
|24     | testKeyRepeatConfigUnsupportedInput | RDKWMJsonL3Test.shtestKeyRepeatConfig_UnsupportedInput |<br>1. Attempt to configure keyRepeatConfig for an unsupported input type (e.g., "mouse") using the API.<br>2.Verify that the response contains an error with code: 1 and message: "ERROR_GENERAL".<br>3.Confirm that the key repeat configuration is not applied due to the missing parameter.|On screen display-NO <br> from Log confirm request and response of keyRepeatConfig<br> ---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0", "id": "5", "method": "org.rdk.RDKWindowManager.keyRepeatConfig", "params": {"input": "mouse", "keyConfig": {"enabled": true, "initialDelay": 500, "repeatInterval": 100}}}<br>Expected: "code":1,"message":"ERROR_GENERAL"<br>Result: "code":1,"message":"ERROR_GENERAL"<br>testKeyRepeatConfig_UnsupportedInput : Success<br>---------------------------------------------------------------<br>---------------------------------------------------------------<br>Total Test Cases - 1<br>Success Test Count - 1<br>Failed Test Count - 0<br>---------------------------------------------------------------
|25     |testKeyRepeatConfigMissingEnabled| RDKWMJsonL3Test.sh testKeyRepeatConfig_MissingEnabled| 1.Invoke the keyRepeatConfig API for the "default" input, omitting the enabled parameter.<br>2.Verify that the response contains an error with code: 1 and message: "ERROR_GENERAL".<br>3.Confirm that the key repeat configuration is not applied due to the missing parameter.| On Screen Display - No <br>From Log Confirm request and response of keyRepeatConfig<br>---------------------------------------------------------------<br>Request: {"jsonrpc": "2.0", "id": "6", "method": "org.rdk.RDKWindowManager.keyRepeatConfig", "params": {"input": "default", "keyConfig": {"initialDelay": 500, "repeatInterval": 100}}}<br>Expected: "code":1,"message":"ERROR_GENERAL"<br>Result: "code":1,"message":"ERROR_GENERAL"<br>testKeyRepeatConfig_MissingEnabled : Success<br>---------------------------------------------------------------<br>---------------------------------------------------------------<br>Total Test Cases - 1<br>Success Test Count - 1<br>Failed Test Count - 0
| 26    | testAll                         | RDKWMJsonL3Test.sh testAll                   | Run all the tests<br>Note:<br>1\. Do this After Fresh bootup,<br>2\. Stop the sky service using systemctl command<br><br>3\. Activate the RDKWindowManager Plugin using curl command<br><br>4\. Then run the testAll test command                                                                                                                                                           | On Screen Display - Come for testCreateDisplay1 and testCreateDisplay2<br>From Logs: createDisplay and getClients methods request and response<br><br>Same set of logs menitioned for each test will come, then final results will display<br>\---------------------------------------------------------------<br>Total Test Cases - 8<br>Success Test Count - 8<br>Failed Test Count - 0<br>\--------------------------------------------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |         |


